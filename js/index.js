const checkboxValues=JSON.parse(localStorage.getItem('checkboxValues'))||{};const buttons=Array.from(document.querySelectorAll('.checklist-item-expand'));const labels=Array.from(document.querySelectorAll('.checklist-item-title'));const checkboxes=Array.from(document.querySelectorAll('input[type="checkbox"]'));const checkboxesLength=checkboxes.length;const progress=document.querySelector('.progress-bar');const counter=document.querySelector('.progress-count');const reset=document.querySelector('.progress-reset');function loadIds(){for(let i=0;i<checkboxesLength;i+=1){const compress=s=>s.replace(/[ ,.!?;:'-]/g,'');checkboxes[i].id=`${compress(checkboxes[i].nextSibling.nextSibling.innerText).toLowerCase()}`;checkboxes[i].nextSibling.setAttribute('for',`${compress(checkboxes[i].nextSibling.nextSibling.innerText).toLowerCase()}`)}}
function updateStorage(el){checkboxValues[el.id]=el.checked;localStorage.setItem('checkboxValues',JSON.stringify(checkboxValues))}
function countChecked(){if(this.type==='checkbox'){const thisSection=this.parentNode.parentNode.parentNode;const sectionCheckedPercentage=thisSection.querySelectorAll('input:checked').length/thisSection.querySelectorAll('.checklist-item').length;thisSection.querySelector('.checklist-progress-border').style.transform=`scaleX(${sectionCheckedPercentage})`}else{Array.from(document.querySelectorAll('.checklist')).forEach((checklist)=>{const checklistCheckedPercentage=checklist.querySelectorAll('input:checked').length/checklist.querySelectorAll('.checklist-item').length;checklist.querySelector('.checklist-progress-border').style.transform=`scaleX(${checklistCheckedPercentage})`})}
let globalCheckedCounter=0;Array.from(document.querySelectorAll('input:checked')).forEach(()=>{globalCheckedCounter+=1});counter.innerText=`${globalCheckedCounter}/${checkboxesLength}`;progress.style.transform=`scaleX(${globalCheckedCounter / checkboxesLength})`;checkboxValues.globalCounter=globalCheckedCounter;updateStorage(this)}
function loadValues(){const initialCounterValue=checkboxValues.globalCounter||0;counter.innerText=`${initialCounterValue}/${checkboxesLength}`;Object.keys(checkboxValues).forEach((key)=>{if(key!=='globalCounter')document.getElementById(key).checked=checkboxValues[key]});countChecked()}
function toggleExpand(){const thisItem=this.parentNode;thisItem.querySelector('.line').classList.toggle('closed');thisItem.classList.toggle('open')}
function resetCheckboxes(){this.classList.add('progress-reset--pressed');checkboxes.forEach(checkbox=>checkbox.checked=!1);Object.keys(checkboxValues).forEach(key=>delete checkboxValues[key]);countChecked()}
function shareButtonInit(){const twitterButton=document.querySelector('.social-buttons-twitter');const facebookButton=document.querySelector('.social-buttons-facebook');const left=window.innerWidth/2-600/2+window.screenX;const top=window.innerHeight/2-480/2+window.screenY;const popParams=`scrollbars=no,width=600,height=480,top=${top},left=${left}`;twitterButton.addEventListener('click',function(){const newWindow=window.open("https://twitter.com/intent/tweet/?text=A%20easy%20to%20use%20web%20launch%20checklist%20to%20help%20you%20get%20your%20website%20launched%20faster%20and%20properly%20without%20missing%20a%20step%2E&url=http%3A%2F%2Fweblaunchchecklist.josephgiancola.com",'',popParams);if(window.focus){newWindow.focus()}});facebookButton.addEventListener('click',function(){const newWindow=window.open("https://www.facebook.com/dialog/share?app_id=333575793927279&href=http%3A%2F%2Fweblaunchchecklist.josephgiancola.com&display=popup&redirect_uri=http%3A%2F%2Fweblaunchchecklist.josephgiancola.com&quote=A%20easy%20to%20use%20web%20launch%20checklist%20to%20help%20get%20your%20website%20launched%20faster%20and%20properly%20without%20missing%20a%20step%2E",'',popParams);if(window.focus){newWindow.focus()}})}
window.onload=function(){loadIds();loadValues();checkboxes.forEach(checkbox=>checkbox.addEventListener('click',countChecked));buttons.forEach(button=>button.addEventListener('click',toggleExpand));labels.forEach(label=>label.addEventListener('click',toggleExpand));reset.addEventListener('click',resetCheckboxes);reset.addEventListener('animationend',function(){this.classList.remove('progress-reset--pressed')},!1);shareButtonInit()};function myFunction(){location.reload()}